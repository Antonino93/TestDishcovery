(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["home"],{bb51:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home-page"},[a("home-banner"),a("div",{staticClass:"container page"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-9"},[a("common-feed",{attrs:{tabs:e.tabs,"active-tab-id":e.activeTabId,"is-loading":e.isLoading,feed:e.activeFeed,"items-per-page":e.itemsPerPage,"current-page":e.currentPage},on:{"page-changed":e.onPageChanged,"tab-changed":e.onTabChanged}})],1),a("div",{staticClass:"col-md-3"},[a("home-tags",{on:{"tag-selected":e.onTagFeedActivated}})],1)])])],1)},r=[],i=a("5530"),c=a("1da1"),s=a("d4ec"),u=a("bee2"),o=a("262e"),l=a("2caf"),g=(a("96cf"),a("9ab4")),d=a("60a3"),h=a("f63d"),b=function(e,t){t._c;return t._m(0)},p=[function(e,t){var a=t._c;return a("div",{staticClass:"banner"},[a("div",{staticClass:"container"},[a("h1",{staticClass:"logo-font"},[t._v("demo blog")]),a("p",[t._v("A place to share your knowledge.")])])])}],v=function(e){Object(o["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return a}(d["d"]);v=Object(g["a"])([d["a"]],v);var f=v,m=f,j=a("2877"),O=Object(j["a"])(m,b,p,!0,null,null,null),w=O.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isLoading?a("div",[a("common-loader",{attrs:{size:7}})],1):a("div",{staticClass:"sidebar"},[a("p",[e._v("Popular Tags")]),a("div",{staticClass:"tag-list"},e._l(e.tags,(function(t){return a("a",{key:t,staticClass:"tag-pill tag-default",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),e.selectTag(t)}}},[e._v(" "+e._s(t)+" ")])})),0)])},T=[],k=a("bccb"),x=a("6fc5"),C=a("5ed2"),R="/tags",F=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,C["a"].get(R);case 2:return a=e.sent,e.abrupt("return",null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.tags);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=a("0613"),L=a("6e90"),_=function(e){Object(o["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(u["a"])(a,[{key:"get",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),a}(x["d"]);Object(g["a"])([Object(x["a"])({rawError:!0})],_.prototype,"get",null),_=Object(g["a"])([Object(x["b"])({dynamic:!0,namespaced:!0,store:P["a"],name:L["a"].tags})],_);var I=Object(x["e"])(_),G=function(e){Object(o["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.tags=[],e.isLoading=!1,e}return Object(u["a"])(a,[{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getTags();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getTags",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.prev=1,e.next=4,I.get();case 4:this.tags=e.sent;case 5:return e.prev=5,this.isLoading=!1,e.finish(5);case 8:case"end":return e.stop()}}),e,this,[[1,,5,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"selectTag",value:function(e){return e}}]),a}(d["d"]);Object(g["a"])([Object(d["b"])("tag-selected")],G.prototype,"selectTag",null),G=Object(g["a"])([Object(d["a"])({components:{CommonLoader:k["a"]}})],G);var M,A=G,E=A,H=Object(j["a"])(E,y,T,!1,null,null,null),J=H.exports,$=a("b77b"),z=a("a080"),B=a("7f1d");(function(e){e["Global"]="Global",e["My"]="My",e["Tag"]="Tag"})(M||(M={}));var D=function(e){Object(o["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.feedTypes=M,e.isLoading=!1,e.currentPage=$["b"],e.itemsPerPage=$["a"],e.activeTabId=M.My,e.activeFeed={articles:[],articlesCount:0},e.activeTag=null,e}return Object(u["a"])(a,[{key:"isLoggedIn",get:function(){return B["a"].isLoggedIn}},{key:"tabs",get:function(){var e=[];return this.isLoggedIn&&e.push({id:M.My,title:"Your Feed"}),e.push({id:M.Global,title:"Global Feed"}),this.activeTag&&this.activeTabId===M.Tag&&e.push({id:M.Tag,title:"#".concat(this.activeTag)}),e}},{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.activeTabId=this.isLoggedIn?M.My:M.Global,e.next=3,this.fetchFeed();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onTabChanged",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===M.My||e.t0===M.Global?3:e.t0===M.Tag?8:11;break;case 3:return this.activeTabId=t,this.currentPage=$["b"],e.next=7,this.fetchFeed();case 7:return e.abrupt("break",12);case 8:return e.next=10,this.onTagFeedActivated(this.activeTag||"");case 10:return e.abrupt("break",12);case 11:throw new Error("Unexpected tabId: ".concat(t));case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onTagFeedActivated",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.activeTabId=M.Tag,this.currentPage=$["b"],this.activeTag=t,e.next=5,this.fetchFeed();case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onPageChanged",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.currentPage=t,e.next=3,this.fetchFeed();case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"fetchFeed",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.isLoading=!0,e.prev=1,t={limit:this.itemsPerPage,offset:(this.currentPage-1)*this.itemsPerPage},e.t0=this.activeTabId,e.next=e.t0===M.Global?6:e.t0===M.Tag?10:e.t0===M.My?14:18;break;case 6:return e.next=8,z["a"].getList(Object(i["a"])({},t));case 8:return this.activeFeed=e.sent,e.abrupt("break",19);case 10:return e.next=12,z["a"].getList(Object(i["a"])({tag:this.activeTag},t));case 12:return this.activeFeed=e.sent,e.abrupt("break",19);case 14:return e.next=16,z["a"].getFeed(t);case 16:return this.activeFeed=e.sent,e.abrupt("break",19);case 18:return e.abrupt("break",19);case 19:return e.prev=19,this.isLoading=!1,window.scrollTo(0,0),e.finish(19);case 23:case"end":return e.stop()}}),e,this,[[1,,19,23]])})));function t(){return e.apply(this,arguments)}return t}()}]),a}(d["d"]);D=Object(g["a"])([Object(d["a"])({components:{HomeBanner:w,HomeTags:J,CommonFeed:h["a"]}})],D);var U=D,Y=U,q=Object(j["a"])(Y,n,r,!1,null,null,null);t["default"]=q.exports}}]);
//# sourceMappingURL=home.bb7cc62d.js.map