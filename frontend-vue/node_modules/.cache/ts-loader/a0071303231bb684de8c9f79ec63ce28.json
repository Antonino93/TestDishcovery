{"remainingRequest":"C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\ts-loader\\index.js??ref--14-2!C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\SVILUPPO\\test\\frontend-vue\\src\\views\\ProfileIndex.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\SVILUPPO\\test\\frontend-vue\\src\\views\\ProfileIndex.vue","mtime":1654014379738},{"path":"C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovU1ZJTFVQUE8vdGVzdC9mcm9udGVuZC12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovU1ZJTFVQUE8vdGVzdC9mcm9udGVuZC12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkM6L1NWSUxVUFBPL3Rlc3QvZnJvbnRlbmQtdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQzovU1ZJTFVQUE8vdGVzdC9mcm9udGVuZC12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICJDOi9TVklMVVBQTy90ZXN0L2Zyb250ZW5kLXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIkM6L1NWSUxVUFBPL3Rlc3QvZnJvbnRlbmQtdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnZhbHVlcy5qcyI7CmltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IENvbXBvbmVudCwgVnVlIH0gZnJvbSAidnVlLXByb3BlcnR5LWRlY29yYXRvciI7CmltcG9ydCBDb21tb25GZWVkIGZyb20gIkAvY29tcG9uZW50cy9Db21tb25GZWVkLnZ1ZSI7CmltcG9ydCBDb21tb25Mb2FkZXIgZnJvbSAiQC9jb21wb25lbnRzL0NvbW1vbkxvYWRlci52dWUiOwppbXBvcnQgUHJvZmlsZUZvbGxvd0J1dHRvbiBmcm9tICJAL2NvbXBvbmVudHMvUHJvZmlsZUZvbGxvd0J1dHRvbi52dWUiOwppbXBvcnQgeyBERUZBVUxUX0lURU1TX1BFUl9QQUdFLCBERUZBVUxUX1NUQVJUX1BBR0UgfSBmcm9tICJAL3NlcnZpY2VzL2NvbW1vbi9JUGFnaW5hdGlvbiI7CmltcG9ydCBBcnRpY2xlIGZyb20gIkAvc3RvcmUvbW9kdWxlcy9BcnRpY2xlIjsKaW1wb3J0IFByb2ZpbGUgZnJvbSAiQC9zdG9yZS9tb2R1bGVzL1Byb2ZpbGUiOwppbXBvcnQgVXNlciBmcm9tICJAL3N0b3JlL21vZHVsZXMvVXNlciI7CnZhciBGZWVkVHlwZTsKCihmdW5jdGlvbiAoRmVlZFR5cGUpIHsKICBGZWVkVHlwZVsiRmF2b3JpdGVzIl0gPSAiZmF2b3JpdGVzIjsKICBGZWVkVHlwZVsiTXkiXSA9ICJteSI7Cn0pKEZlZWRUeXBlIHx8IChGZWVkVHlwZSA9IHt9KSk7CgpDb21wb25lbnQucmVnaXN0ZXJIb29rcyhbImJlZm9yZVJvdXRlRW50ZXIiLCAiYmVmb3JlUm91dGVVcGRhdGUiXSk7Cgp2YXIgUHJvZmlsZUluZGV4ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfVnVlKSB7CiAgX2luaGVyaXRzKFByb2ZpbGVJbmRleCwgX1Z1ZSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoUHJvZmlsZUluZGV4KTsKCiAgZnVuY3Rpb24gUHJvZmlsZUluZGV4KCkgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQcm9maWxlSW5kZXgpOwoKICAgIF90aGlzID0gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICBfdGhpcy5fcHJvZmlsZSA9IHsKICAgICAgdXNlcm5hbWU6ICIiLAogICAgICBiaW86ICIiLAogICAgICBpbWFnZTogIiIsCiAgICAgIGZvbGxvd2luZzogZmFsc2UKICAgIH07CiAgICBfdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgIF90aGlzLmlzRm9sbG93QWN0aW9uSW5Qcm9ncmVzcyA9IGZhbHNlOwogICAgX3RoaXMuY3VycmVudFBhZ2UgPSBERUZBVUxUX1NUQVJUX1BBR0U7CiAgICBfdGhpcy5pdGVtc1BlclBhZ2UgPSBERUZBVUxUX0lURU1TX1BFUl9QQUdFOwogICAgX3RoaXMuYWN0aXZlVGFiSWQgPSBGZWVkVHlwZS5NeTsKICAgIF90aGlzLmFjdGl2ZUZlZWQgPSB7CiAgICAgIGFydGljbGVzOiBbXSwKICAgICAgYXJ0aWNsZXNDb3VudDogMAogICAgfTsKICAgIF90aGlzLmFjdGl2ZVRhZyA9IG51bGw7CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoUHJvZmlsZUluZGV4LCBbewogICAga2V5OiAicHJvZmlsZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJF9wcm9maWxlOwoKICAgICAgcmV0dXJuIFByb2ZpbGUucHJvZmlsZXNDYWNoZVsoX3RoaXMkX3Byb2ZpbGUgPSB0aGlzLl9wcm9maWxlKSA9PT0gbnVsbCB8fCBfdGhpcyRfcHJvZmlsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkX3Byb2ZpbGUudXNlcm5hbWVdIHx8IHRoaXMuX3Byb2ZpbGU7CiAgICB9CiAgfSwgewogICAga2V5OiAidGFicyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIG15VGl0bGUgPSB0aGlzLmlzTXlQcm9maWxlID8gIk15IEFydGljbGVzIiA6ICIiLmNvbmNhdCh0aGlzLnByb2ZpbGUudXNlcm5hbWUsICIncyBBcnRpY2xlcyIpOwogICAgICByZXR1cm4gW3sKICAgICAgICBpZDogRmVlZFR5cGUuTXksCiAgICAgICAgdGl0bGU6IG15VGl0bGUKICAgICAgfSwgewogICAgICAgIGlkOiBGZWVkVHlwZS5GYXZvcml0ZXMsCiAgICAgICAgdGl0bGU6ICJGYXZvcml0ZWQgQXJ0aWNsZXMiCiAgICAgIH1dOwogICAgfQogIH0sIHsKICAgIGtleTogImlzTXlQcm9maWxlIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX1VzZXIkY3VycmVudFVzZXI7CgogICAgICByZXR1cm4gdGhpcy5wcm9maWxlLnVzZXJuYW1lID09PSAoKF9Vc2VyJGN1cnJlbnRVc2VyID0gVXNlci5jdXJyZW50VXNlcikgPT09IG51bGwgfHwgX1VzZXIkY3VycmVudFVzZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9Vc2VyJGN1cnJlbnRVc2VyLnVzZXJuYW1lKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJiZWZvcmVSb3V0ZUVudGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBiZWZvcmVSb3V0ZUVudGVyKHRvLCBmcm9tLCBuZXh0KSB7CiAgICAgIG5leHQoZnVuY3Rpb24gKHZtKSB7CiAgICAgICAgdm0ub25Sb3V0ZVVwZGF0ZSh0bywgZnJvbSwgbmV4dCk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImJlZm9yZVJvdXRlVXBkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBiZWZvcmVSb3V0ZVVwZGF0ZSh0bywgZnJvbSwgbmV4dCkgewogICAgICB0aGlzLm9uUm91dGVVcGRhdGUodG8sIGZyb20sIG5leHQpOwogICAgfQogIH0sIHsKICAgIGtleTogIm9uUm91dGVVcGRhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9vblJvdXRlVXBkYXRlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHRvLCBmcm9tLCBuZXh0KSB7CiAgICAgICAgdmFyIF90byRwYXJhbXMsIF9mcm9tJHBhcmFtcywgX3RvJHBhcmFtczIsIHRvVXNlck5hbWUsIGZyb21Vc2VyTmFtZSwgdGFiSWQ7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyOwogICAgICAgICAgICAgICAgdG9Vc2VyTmFtZSA9IHRvID09PSBudWxsIHx8IHRvID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RvJHBhcmFtcyA9IHRvLnBhcmFtcykgPT09IG51bGwgfHwgX3RvJHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RvJHBhcmFtcy51c2VybmFtZTsKICAgICAgICAgICAgICAgIGZyb21Vc2VyTmFtZSA9IGZyb20gPT09IG51bGwgfHwgZnJvbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9mcm9tJHBhcmFtcyA9IGZyb20ucGFyYW1zKSA9PT0gbnVsbCB8fCBfZnJvbSRwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mcm9tJHBhcmFtcy51c2VybmFtZTsKCiAgICAgICAgICAgICAgICBpZiAodG9Vc2VyTmFtZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRyb3V0ZXNOYW1lcy5ob21lCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBpZiAoISh0b1VzZXJOYW1lICE9PSBmcm9tVXNlck5hbWUpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgcmV0dXJuIFByb2ZpbGUuZ2V0KHRvVXNlck5hbWUpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgdGhpcy5fcHJvZmlsZSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICB0YWJJZCA9IHRvID09PSBudWxsIHx8IHRvID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RvJHBhcmFtczIgPSB0by5wYXJhbXMpID09PSBudWxsIHx8IF90byRwYXJhbXMyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdG8kcGFyYW1zMi50YWJJZDsKCiAgICAgICAgICAgICAgICBpZiAodGFiSWQgJiYgT2JqZWN0LnZhbHVlcyhGZWVkVHlwZSkuc29tZShmdW5jdGlvbiAodikgewogICAgICAgICAgICAgICAgICByZXR1cm4gdiA9PT0gdGFiSWQ7CiAgICAgICAgICAgICAgICB9KSkgewogICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVRhYklkID0gdGFiSWQ7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVRhYklkID0gRmVlZFR5cGUuTXk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2hGZWVkKCk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxODsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHJvdXRlc05hbWVzLmhvbWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDIxOwogICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5maW5pc2goMjEpOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcywgW1syLCAxOCwgMjEsIDI0XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBvblJvdXRlVXBkYXRlKF94LCBfeDIsIF94MykgewogICAgICAgIHJldHVybiBfb25Sb3V0ZVVwZGF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gb25Sb3V0ZVVwZGF0ZTsKICAgIH0oKQogIH0sIHsKICAgIGtleTogIm9uVGFiQ2hhbmdlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX29uVGFiQ2hhbmdlZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIodGFiSWQpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gdGFiSWQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IF9jb250ZXh0Mi50MCA9PT0gRmVlZFR5cGUuTXkgPyAzIDogX2NvbnRleHQyLnQwID09PSBGZWVkVHlwZS5GYXZvcml0ZXMgPyAzIDogOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVRhYklkID0gdGFiSWQ7CiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gREVGQVVMVF9TVEFSVF9QQUdFOwogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdGhpcy5wcm9maWxlLnVzZXJuYW1lLAogICAgICAgICAgICAgICAgICAgIHRhYklkOiB0aGlzLmFjdGl2ZVRhYklkCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2hGZWVkKCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJicmVhayIsIDEwKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbmV4cGVjdGVkIHRhYklkOiAiLmNvbmNhdCh0YWJJZCkpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gb25UYWJDaGFuZ2VkKF94NCkgewogICAgICAgIHJldHVybiBfb25UYWJDaGFuZ2VkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBvblRhYkNoYW5nZWQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJvblBhZ2VDaGFuZ2VkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfb25QYWdlQ2hhbmdlZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMocGFnZSkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gcGFnZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZldGNoRmVlZCgpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBvblBhZ2VDaGFuZ2VkKF94NSkgewogICAgICAgIHJldHVybiBfb25QYWdlQ2hhbmdlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gb25QYWdlQ2hhbmdlZDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImZldGNoRmVlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2ZldGNoRmVlZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIHBhZ2luYXRpb247CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIHBhZ2luYXRpb24gPSB7CiAgICAgICAgICAgICAgICAgIGxpbWl0OiB0aGlzLml0ZW1zUGVyUGFnZSwKICAgICAgICAgICAgICAgICAgb2Zmc2V0OiAodGhpcy5jdXJyZW50UGFnZSAtIDEpICogdGhpcy5pdGVtc1BlclBhZ2UKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDQudDAgPSB0aGlzLmFjdGl2ZVRhYklkOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSBfY29udGV4dDQudDAgPT09IEZlZWRUeXBlLkZhdm9yaXRlcyA/IDYgOiBfY29udGV4dDQudDAgPT09IEZlZWRUeXBlLk15ID8gMTAgOiAxNDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gQXJ0aWNsZS5nZXRMaXN0KF9vYmplY3RTcHJlYWQoewogICAgICAgICAgICAgICAgICBmYXZvcml0ZWQ6IHRoaXMucHJvZmlsZS51c2VybmFtZQogICAgICAgICAgICAgICAgfSwgcGFnaW5hdGlvbikpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZUZlZWQgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJicmVhayIsIDE1KTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gQXJ0aWNsZS5nZXRMaXN0KF9vYmplY3RTcHJlYWQoewogICAgICAgICAgICAgICAgICBhdXRob3I6IHRoaXMucHJvZmlsZS51c2VybmFtZQogICAgICAgICAgICAgICAgfSwgcGFnaW5hdGlvbikpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVGZWVkID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgiYnJlYWsiLCAxNSk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgiYnJlYWsiLCAxNSk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDE1OwogICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuZmluaXNoKDE1KTsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCwgdGhpcywgW1sxLCwgMTUsIDE5XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBmZXRjaEZlZWQoKSB7CiAgICAgICAgcmV0dXJuIF9mZXRjaEZlZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZldGNoRmVlZDsKICAgIH0oKQogIH1dKTsKCiAgcmV0dXJuIFByb2ZpbGVJbmRleDsKfShWdWUpOwoKUHJvZmlsZUluZGV4ID0gX19kZWNvcmF0ZShbQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBDb21tb25Mb2FkZXI6IENvbW1vbkxvYWRlciwKICAgIENvbW1vbkZlZWQ6IENvbW1vbkZlZWQsCiAgICBQcm9maWxlRm9sbG93QnV0dG9uOiBQcm9maWxlRm9sbG93QnV0dG9uCiAgfQp9KV0sIFByb2ZpbGVJbmRleCk7CmV4cG9ydCBkZWZhdWx0IFByb2ZpbGVJbmRleDs="},{"version":3,"sources":["C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\SVILUPPO\\test\\frontend-vue\\src\\views\\ProfileIndex.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from \"vue-property-decorator\";\r\n\r\nimport CommonFeed, { IFeedTab } from \"@/components/CommonFeed.vue\";\r\nimport CommonLoader from \"@/components/CommonLoader.vue\";\r\nimport ProfileFollowButton from \"@/components/ProfileFollowButton.vue\";\r\nimport { Location } from \"@/router\";\r\nimport IPagination, {\r\n  DEFAULT_ITEMS_PER_PAGE,\r\n  DEFAULT_START_PAGE\r\n} from \"@/services/common/IPagination\";\r\nimport { IArticleList, IProfile } from \"@/services/realWorldApi/models\";\r\nimport Article from \"@/store/modules/Article\";\r\nimport Profile from \"@/store/modules/Profile\";\r\nimport User from \"@/store/modules/User\";\r\n\r\nenum FeedType {\r\n  Favorites = \"favorites\",\r\n  My = \"my\"\r\n}\r\n\r\nComponent.registerHooks([\"beforeRouteEnter\", \"beforeRouteUpdate\"]);\r\n\r\n@Component({\r\n  components: {\r\n    CommonLoader,\r\n    CommonFeed,\r\n    ProfileFollowButton\r\n  }\r\n})\r\nexport default class ProfileIndex extends Vue {\r\n  _profile: IProfile = { username: \"\", bio: \"\", image: \"\", following: false };\r\n  isLoading = false;\r\n  isFollowActionInProgress = false;\r\n  currentPage = DEFAULT_START_PAGE;\r\n  itemsPerPage = DEFAULT_ITEMS_PER_PAGE;\r\n\r\n  activeTabId: FeedType = FeedType.My;\r\n  activeFeed: IArticleList = { articles: [], articlesCount: 0 };\r\n  activeTag: string | null = null;\r\n\r\n  get profile(): IProfile {\r\n    return Profile.profilesCache[this._profile?.username] || this._profile;\r\n  }\r\n\r\n  get tabs(): IFeedTab[] {\r\n    const myTitle = this.isMyProfile\r\n      ? \"My Articles\"\r\n      : `${this.profile.username}'s Articles`;\r\n    return [\r\n      {\r\n        id: FeedType.My,\r\n        title: myTitle\r\n      },\r\n      {\r\n        id: FeedType.Favorites,\r\n        title: \"Favorited Articles\"\r\n      }\r\n    ];\r\n  }\r\n\r\n  get isMyProfile(): boolean {\r\n    return this.profile.username === User.currentUser?.username;\r\n  }\r\n\r\n  beforeRouteEnter(to: Location, from: Location, next: Function): void {\r\n    next((vm: ProfileIndex) => {\r\n      vm.onRouteUpdate(to, from, next);\r\n    });\r\n  }\r\n  beforeRouteUpdate(to: Location, from: Location, next: Function): void {\r\n    this.onRouteUpdate(to, from, next);\r\n  }\r\n\r\n  async onRouteUpdate(\r\n    to: Location,\r\n    from: Location,\r\n    next: Function\r\n  ): Promise<void> {\r\n    next();\r\n\r\n    this.isLoading = true;\r\n    try {\r\n      const toUserName = to?.params?.username;\r\n      const fromUserName = from?.params?.username;\r\n      if (!toUserName) {\r\n        this.$router.push({ name: this.$routesNames.home });\r\n        return;\r\n      }\r\n      if (toUserName !== fromUserName) {\r\n        this._profile = await Profile.get(toUserName);\r\n      }\r\n\r\n      const tabId = to?.params?.tabId;\r\n      if (tabId && Object.values(FeedType).some(v => (v as string) === tabId)) {\r\n        this.activeTabId = tabId as FeedType;\r\n      } else {\r\n        this.activeTabId = FeedType.My;\r\n      }\r\n\r\n      await this.fetchFeed();\r\n    } catch (e) {\r\n      this.$router.push({ name: this.$routesNames.home });\r\n    } finally {\r\n      this.isLoading = false;\r\n    }\r\n  }\r\n\r\n  async onTabChanged(tabId: FeedType): Promise<void> {\r\n    switch (tabId) {\r\n      case FeedType.My:\r\n      case FeedType.Favorites:\r\n        this.activeTabId = tabId;\r\n        this.currentPage = DEFAULT_START_PAGE;\r\n        this.$router.push({\r\n          params: { username: this.profile.username, tabId: this.activeTabId }\r\n        });\r\n        await this.fetchFeed();\r\n        break;\r\n\r\n      default:\r\n        throw new Error(`Unexpected tabId: ${tabId}`);\r\n    }\r\n  }\r\n\r\n  async onPageChanged(page: number): Promise<void> {\r\n    this.currentPage = page;\r\n    await this.fetchFeed();\r\n  }\r\n\r\n  async fetchFeed(): Promise<void> {\r\n    this.isLoading = true;\r\n    try {\r\n      const pagination: IPagination = {\r\n        limit: this.itemsPerPage,\r\n        offset: (this.currentPage - 1) * this.itemsPerPage\r\n      };\r\n\r\n      switch (this.activeTabId) {\r\n        case FeedType.Favorites:\r\n          this.activeFeed = await Article.getList({\r\n            favorited: this.profile.username,\r\n            ...pagination\r\n          });\r\n          break;\r\n        case FeedType.My:\r\n          this.activeFeed = await Article.getList({\r\n            author: this.profile.username,\r\n            ...pagination\r\n          });\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    } finally {\r\n      this.isLoading = false;\r\n      window.scrollTo(0, 0);\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":""}]}