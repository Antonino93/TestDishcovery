{"remainingRequest":"C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\ts-loader\\index.js??ref--14-2!C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\SVILUPPO\\test\\frontend-vue\\src\\views\\ProfileSettings.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\SVILUPPO\\test\\frontend-vue\\src\\views\\ProfileSettings.vue","mtime":1654014379745},{"path":"C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1NWSUxVUFBPL3Rlc3QvZnJvbnRlbmQtdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOi9TVklMVVBQTy90ZXN0L2Zyb250ZW5kLXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkM6L1NWSUxVUFBPL3Rlc3QvZnJvbnRlbmQtdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiQzovU1ZJTFVQUE8vdGVzdC9mcm9udGVuZC12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICJDOi9TVklMVVBQTy90ZXN0L2Zyb250ZW5kLXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IENvbXBvbmVudCwgVnVlLCBXYXRjaCB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwppbXBvcnQgQ29tbW9uRXJyb3JzTGlzdCBmcm9tICJAL2NvbXBvbmVudHMvQ29tbW9uRXJyb3JzTGlzdC52dWUiOwppbXBvcnQgQ29tbW9uTG9hZGVyIGZyb20gIkAvY29tcG9uZW50cy9Db21tb25Mb2FkZXIudnVlIjsKaW1wb3J0IFVzZXIgZnJvbSAiQC9zdG9yZS9tb2R1bGVzL1VzZXIiOwppbXBvcnQgeyBpc0FycmF5T2ZTdHJpbmdzIH0gZnJvbSAiQC91dGlscy9BcnJheVV0aWxzIjsKCnZhciBQcm9maWxlU2V0dGluZ3MgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9WdWUpIHsKICBfaW5oZXJpdHMoUHJvZmlsZVNldHRpbmdzLCBfVnVlKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihQcm9maWxlU2V0dGluZ3MpOwoKICBmdW5jdGlvbiBQcm9maWxlU2V0dGluZ3MoKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByb2ZpbGVTZXR0aW5ncyk7CgogICAgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIF90aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgX3RoaXMuaW1hZ2UgPSBudWxsOwogICAgX3RoaXMuYmlvID0gIiI7CiAgICBfdGhpcy5lbWFpbCA9ICIiOwogICAgX3RoaXMucGFzc3dvcmQgPSBudWxsOwogICAgX3RoaXMudXNlcm5hbWUgPSAiIjsKICAgIF90aGlzLmVycm9ycyA9IFtdOwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFByb2ZpbGVTZXR0aW5ncywgW3sKICAgIGtleTogImhhc0Vycm9ycyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJGVycm9yczsKCiAgICAgIHJldHVybiAhISgoX3RoaXMkZXJyb3JzID0gdGhpcy5lcnJvcnMpICE9PSBudWxsICYmIF90aGlzJGVycm9ycyAhPT0gdm9pZCAwICYmIF90aGlzJGVycm9ycy5sZW5ndGgpOwogICAgfQogIH0sIHsKICAgIGtleTogImN1cnJlbnRVc2VyIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gVXNlci5jdXJyZW50VXNlciB8fCB7fTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJsb2dvdXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgICAgVXNlci5sb2dvdXQoKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6IHRoaXMuJHJvdXRlc05hbWVzLmhvbWUKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAidXBkYXRlU2V0dGluZ3MiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF91cGRhdGVTZXR0aW5ncyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aGlzLmVycm9ycyA9IFtdOwogICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBVc2VyLnVwZGF0ZSh7CiAgICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgICAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwKICAgICAgICAgICAgICAgICAgYmlvOiB0aGlzLmJpbywKICAgICAgICAgICAgICAgICAgaW1hZ2U6IHRoaXMuaW1hZ2UsCiAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRyb3V0ZXNOYW1lcy5ob21lCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gODsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMik7CgogICAgICAgICAgICAgICAgaWYgKCFpc0FycmF5T2ZTdHJpbmdzKF9jb250ZXh0LnQwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JzID0gX2NvbnRleHQudDA7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIHRocm93IF9jb250ZXh0LnQwOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE1OwogICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5maW5pc2goMTUpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcywgW1syLCA4LCAxNSwgMThdXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHVwZGF0ZVNldHRpbmdzKCkgewogICAgICAgIHJldHVybiBfdXBkYXRlU2V0dGluZ3MuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHVwZGF0ZVNldHRpbmdzOwogICAgfSgpCiAgfSwgewogICAga2V5OiAib25DdXJyZW50VXNlckxvYWRlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25DdXJyZW50VXNlckxvYWRlZChuZXdWYWx1ZSkgewogICAgICB0aGlzLmVycm9ycyA9IFtdOwoKICAgICAgaWYgKG5ld1ZhbHVlKSB7CiAgICAgICAgdGhpcy5pbWFnZSA9IG5ld1ZhbHVlLmltYWdlOwogICAgICAgIHRoaXMuYmlvID0gbmV3VmFsdWUuYmlvOwogICAgICAgIHRoaXMuZW1haWwgPSBuZXdWYWx1ZS5lbWFpbDsKICAgICAgICB0aGlzLnVzZXJuYW1lID0gbmV3VmFsdWUudXNlcm5hbWU7CiAgICAgIH0KICAgIH0KICB9XSk7CgogIHJldHVybiBQcm9maWxlU2V0dGluZ3M7Cn0oVnVlKTsKCl9fZGVjb3JhdGUoW1dhdGNoKCJjdXJyZW50VXNlciIsIHsKICBpbW1lZGlhdGU6IHRydWUKfSldLCBQcm9maWxlU2V0dGluZ3MucHJvdG90eXBlLCAib25DdXJyZW50VXNlckxvYWRlZCIsIG51bGwpOwoKUHJvZmlsZVNldHRpbmdzID0gX19kZWNvcmF0ZShbQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBDb21tb25Mb2FkZXI6IENvbW1vbkxvYWRlciwKICAgIENvbW1vbkVycm9yc0xpc3Q6IENvbW1vbkVycm9yc0xpc3QKICB9Cn0pXSwgUHJvZmlsZVNldHRpbmdzKTsKZXhwb3J0IGRlZmF1bHQgUHJvZmlsZVNldHRpbmdzOw=="},{"version":3,"sources":["C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\SVILUPPO\\test\\frontend-vue\\src\\views\\ProfileSettings.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;;AAwEA,SAAS,SAAT,EAAoB,GAApB,EAAyB,KAAzB,QAAsC,wBAAtC;AAEA,OAAO,gBAAP,MAA6B,mCAA7B;AACA,OAAO,YAAP,MAAyB,+BAAzB;AAEA,OAAO,IAAP,MAAiB,sBAAjB;AACA,SAAS,gBAAT,QAAiC,oBAAjC;;AAQA,IAAqB,eAArB;AAAA;;AAAA;;AAAA,6BAAA;AAAA;;AAAA;;;AACE,UAAA,SAAA,GAAY,KAAZ;AAEA,UAAA,KAAA,GAAuB,IAAvB;AACA,UAAA,GAAA,GAAM,EAAN;AACA,UAAA,KAAA,GAAQ,EAAR;AACA,UAAA,QAAA,GAA0B,IAA1B;AACA,UAAA,QAAA,GAAW,EAAX;AACA,UAAA,MAAA,GAAoB,EAApB;AARF;AAwDC;;AAxDD;AAAA;AAAA,SAUE,eAAa;AAAA;;AACX,aAAO,CAAC,kBAAC,KAAK,MAAN,yCAAC,aAAa,MAAd,CAAR;AACD;AAZH;AAAA;AAAA,SAcE,eAAe;AACb,aAAO,IAAI,CAAC,WAAL,IAAoB,EAA3B;AACD;AAhBH;AAAA;AAAA,WAkBE,kBAAM;AACJ,MAAA,IAAI,CAAC,MAAL;AACA,WAAK,OAAL,CAAa,IAAb,CAAkB;AAAE,QAAA,IAAI,EAAE,KAAK,YAAL,CAAkB;AAA1B,OAAlB;AACD;AArBH;AAAA;AAAA;AAAA,oFAuBE;AAAA;AAAA;AAAA;AAAA;AACE,qBAAK,MAAL,GAAc,EAAd;AAEA,qBAAK,SAAL,GAAiB,IAAjB;AAHF;AAAA;AAAA,uBAKU,IAAI,CAAC,MAAL,CAAY;AAChB,kBAAA,KAAK,EAAE,KAAK,KADI;AAEhB,kBAAA,QAAQ,EAAE,KAAK,QAFC;AAGhB,kBAAA,GAAG,EAAE,KAAK,GAHM;AAIhB,kBAAA,KAAK,EAAE,KAAK,KAJI;AAKhB,kBAAA,QAAQ,EAAE,KAAK;AALC,iBAAZ,CALV;;AAAA;AAYI,qBAAK,OAAL,CAAa,IAAb,CAAkB;AAAE,kBAAA,IAAI,EAAE,KAAK,YAAL,CAAkB;AAA1B,iBAAlB;AAZJ;AAAA;;AAAA;AAAA;AAAA;;AAAA,qBAcQ,gBAAgB,aAdxB;AAAA;AAAA;AAAA;;AAeM,qBAAK,MAAL;AAfN;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAoBI,qBAAK,SAAL,GAAiB,KAAjB;AApBJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAvBF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,WA+CE,6BAAoB,QAApB,EAA0C;AACxC,WAAK,MAAL,GAAc,EAAd;;AACA,UAAI,QAAJ,EAAc;AACZ,aAAK,KAAL,GAAa,QAAQ,CAAC,KAAtB;AACA,aAAK,GAAL,GAAW,QAAQ,CAAC,GAApB;AACA,aAAK,KAAL,GAAa,QAAQ,CAAC,KAAtB;AACA,aAAK,QAAL,GAAgB,QAAQ,CAAC,QAAzB;AACD;AACF;AAvDH;;AAAA;AAAA,EAA6C,GAA7C,CAAA;;AA+CE,UAAA,CAAA,CADC,KAAK,CAAC,aAAD,EAAgB;AAAE,EAAA,SAAS,EAAE;AAAb,CAAhB,CACN,CAAA,E,yBAAA,E,qBAAA,EAQC,IARD,CAAA;;AA/CmB,eAAe,GAAA,UAAA,CAAA,CANnC,SAAS,CAAC;AACT,EAAA,UAAU,EAAE;AACV,IAAA,YAAY,EAAZ,YADU;AAEV,IAAA,gBAAgB,EAAhB;AAFU;AADH,CAAD,CAM0B,CAAA,EAAf,eAAe,CAAf;eAAA,e","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Watch } from \"vue-property-decorator\";\r\n\r\nimport CommonErrorsList from \"@/components/CommonErrorsList.vue\";\r\nimport CommonLoader from \"@/components/CommonLoader.vue\";\r\nimport { ICurrentUser } from \"@/store/models\";\r\nimport User from \"@/store/modules/User\";\r\nimport { isArrayOfStrings } from \"@/utils/ArrayUtils\";\r\n\r\n@Component({\r\n  components: {\r\n    CommonLoader,\r\n    CommonErrorsList\r\n  }\r\n})\r\nexport default class ProfileSettings extends Vue {\r\n  isLoading = false;\r\n\r\n  image: string | null = null;\r\n  bio = \"\";\r\n  email = \"\";\r\n  password: string | null = null;\r\n  username = \"\";\r\n  errors?: string[] = [];\r\n\r\n  get hasErrors(): boolean {\r\n    return !!this.errors?.length;\r\n  }\r\n\r\n  get currentUser(): Partial<ICurrentUser> {\r\n    return User.currentUser || {};\r\n  }\r\n\r\n  logout(): void {\r\n    User.logout();\r\n    this.$router.push({ name: this.$routesNames.home });\r\n  }\r\n\r\n  async updateSettings(): Promise<void> {\r\n    this.errors = [];\r\n\r\n    this.isLoading = true;\r\n    try {\r\n      await User.update({\r\n        email: this.email,\r\n        password: this.password,\r\n        bio: this.bio,\r\n        image: this.image,\r\n        username: this.username\r\n      });\r\n      this.$router.push({ name: this.$routesNames.home });\r\n    } catch (e) {\r\n      if (isArrayOfStrings(e)) {\r\n        this.errors = e;\r\n      } else {\r\n        throw e;\r\n      }\r\n    } finally {\r\n      this.isLoading = false;\r\n    }\r\n  }\r\n  @Watch(\"currentUser\", { immediate: true })\r\n  onCurrentUserLoaded(newValue: ICurrentUser): void {\r\n    this.errors = [];\r\n    if (newValue) {\r\n      this.image = newValue.image;\r\n      this.bio = newValue.bio;\r\n      this.email = newValue.email;\r\n      this.username = newValue.username;\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":""}]}