{"remainingRequest":"C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\SVILUPPO\\test\\frontend-vue\\src\\components\\AuthPage.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\SVILUPPO\\test\\frontend-vue\\src\\components\\AuthPage.vue","mtime":1654014379713},{"path":"C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\SVILUPPO\\test\\frontend-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wLCBWdWUgfSBmcm9tICJ2dWUtcHJvcGVydHktZGVjb3JhdG9yIjsNCg0KaW1wb3J0IENvbW1vbkVycm9yc0xpc3QgZnJvbSAiQC9jb21wb25lbnRzL0NvbW1vbkVycm9yc0xpc3QudnVlIjsNCmltcG9ydCBDb21tb25Mb2FkZXIgZnJvbSAiQC9jb21wb25lbnRzL0NvbW1vbkxvYWRlci52dWUiOw0KaW1wb3J0IFVzZXIgZnJvbSAiQC9zdG9yZS9tb2R1bGVzL1VzZXIiOw0KaW1wb3J0IHsgaXNBcnJheU9mU3RyaW5ncyB9IGZyb20gIkAvdXRpbHMvQXJyYXlVdGlscyI7DQoNCmV4cG9ydCBlbnVtIEF1dGhQYWdlTW9kZSB7DQogIFJlZ2lzdGVyID0gIlJlZ2lzdGVyIiwNCiAgTG9naW4gPSAiTG9naW4iDQp9DQoNCkBDb21wb25lbnQoew0KICBjb21wb25lbnRzOiB7DQogICAgQ29tbW9uTG9hZGVyLA0KICAgIENvbW1vbkVycm9yc0xpc3QNCiAgfQ0KfSkNCmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF1dGhQYWdlIGV4dGVuZHMgVnVlIHsNCiAgQFByb3AoeyByZXF1aXJlZDogdHJ1ZSB9KSBtb2RlITogQXV0aFBhZ2VNb2RlOw0KDQogIGlzTG9hZGluZyA9IGZhbHNlOw0KDQogIHVzZXJuYW1lID0gIiI7DQogIGVtYWlsID0gIiI7DQogIHBhc3N3b3JkID0gIiI7DQoNCiAgZXJyb3JzPzogc3RyaW5nW10gPSBbXTsNCg0KICBtb3VudGVkKCk6IHZvaWQgew0KICAgIHRoaXMuZXJyb3JzID0gW107DQogIH0NCg0KICBnZXQgaGFzRXJyb3JzKCk6IGJvb2xlYW4gew0KICAgIHJldHVybiAhIXRoaXMuZXJyb3JzPy5sZW5ndGg7DQogIH0NCg0KICBnZXQgaXNSZWdpc3Rlck1vZGUoKTogYm9vbGVhbiB7DQogICAgcmV0dXJuIHRoaXMubW9kZSA9PT0gQXV0aFBhZ2VNb2RlLlJlZ2lzdGVyOw0KICB9DQoNCiAgYXN5bmMgYXV0aEFjdGlvbigpOiBQcm9taXNlPHZvaWQ+IHsNCiAgICB0aGlzLmVycm9ycyA9IFtdOw0KDQogICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOw0KICAgIHRyeSB7DQogICAgICB0aGlzLmlzUmVnaXN0ZXJNb2RlDQogICAgICAgID8gYXdhaXQgVXNlci5yZWdpc3Rlcih7DQogICAgICAgICAgICBlbWFpbDogdGhpcy5lbWFpbCwNCiAgICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkLA0KICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUNCiAgICAgICAgICB9KQ0KICAgICAgICA6IGF3YWl0IFVzZXIubG9naW4oeyBlbWFpbDogdGhpcy5lbWFpbCwgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQgfSk7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6IHRoaXMuJHJvdXRlc05hbWVzLmhvbWUgfSk7DQogICAgfSBjYXRjaCAoZSkgew0KICAgICAgaWYgKGlzQXJyYXlPZlN0cmluZ3MoZSkpIHsNCiAgICAgICAgdGhpcy5lcnJvcnMgPSBlOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhyb3cgZTsNCiAgICAgIH0NCiAgICB9IGZpbmFsbHkgew0KICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["AuthPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AuthPage.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"auth-page\">\r\n    <div class=\"container page\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-6 offset-md-3 col-xs-12\">\r\n          <h1 class=\"text-xs-center\">Sign up</h1>\r\n          <p class=\"text-xs-center\">\r\n            <router-link\r\n              v-if=\"isRegisterMode\"\r\n              :to=\"{ name: $routesNames.authLogin }\"\r\n            >\r\n              Have an account?\r\n            </router-link>\r\n            <router-link v-else :to=\"{ name: $routesNames.authRegister }\">\r\n              Need an account?\r\n            </router-link>\r\n          </p>\r\n\r\n          <common-errors-list :errors=\"errors\" />\r\n\r\n          <form>\r\n            <fieldset :disabled=\"isLoading\">\r\n              <fieldset v-if=\"isRegisterMode\" class=\"form-group\">\r\n                <input\r\n                  v-model=\"username\"\r\n                  class=\"form-control form-control-lg\"\r\n                  type=\"text\"\r\n                  placeholder=\"Your Name\"\r\n                  required=\"true\"\r\n                />\r\n              </fieldset>\r\n              <fieldset class=\"form-group\">\r\n                <input\r\n                  v-model=\"email\"\r\n                  class=\"form-control form-control-lg\"\r\n                  type=\"text\"\r\n                  placeholder=\"Email\"\r\n                  required=\"true\"\r\n                />\r\n              </fieldset>\r\n              <fieldset class=\"form-group\">\r\n                <input\r\n                  v-model=\"password\"\r\n                  class=\"form-control form-control-lg\"\r\n                  type=\"password\"\r\n                  placeholder=\"Password\"\r\n                  required=\"true\"\r\n                />\r\n              </fieldset>\r\n            </fieldset>\r\n            <common-loader\r\n              v-if=\"isLoading\"\r\n              :size=\"5\"\r\n              :margin=\"0\"\r\n              class=\"pull-xs-right\"\r\n            />\r\n            <button\r\n              v-else\r\n              class=\"btn btn-lg btn-primary pull-xs-right\"\r\n              @click=\"authAction\"\r\n            >\r\n              {{ isRegisterMode ? \"Sign up\" : \"Sign in\" }}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\r\n\r\nimport CommonErrorsList from \"@/components/CommonErrorsList.vue\";\r\nimport CommonLoader from \"@/components/CommonLoader.vue\";\r\nimport User from \"@/store/modules/User\";\r\nimport { isArrayOfStrings } from \"@/utils/ArrayUtils\";\r\n\r\nexport enum AuthPageMode {\r\n  Register = \"Register\",\r\n  Login = \"Login\"\r\n}\r\n\r\n@Component({\r\n  components: {\r\n    CommonLoader,\r\n    CommonErrorsList\r\n  }\r\n})\r\nexport default class AuthPage extends Vue {\r\n  @Prop({ required: true }) mode!: AuthPageMode;\r\n\r\n  isLoading = false;\r\n\r\n  username = \"\";\r\n  email = \"\";\r\n  password = \"\";\r\n\r\n  errors?: string[] = [];\r\n\r\n  mounted(): void {\r\n    this.errors = [];\r\n  }\r\n\r\n  get hasErrors(): boolean {\r\n    return !!this.errors?.length;\r\n  }\r\n\r\n  get isRegisterMode(): boolean {\r\n    return this.mode === AuthPageMode.Register;\r\n  }\r\n\r\n  async authAction(): Promise<void> {\r\n    this.errors = [];\r\n\r\n    this.isLoading = true;\r\n    try {\r\n      this.isRegisterMode\r\n        ? await User.register({\r\n            email: this.email,\r\n            password: this.password,\r\n            username: this.username\r\n          })\r\n        : await User.login({ email: this.email, password: this.password });\r\n      this.$router.push({ name: this.$routesNames.home });\r\n    } catch (e) {\r\n      if (isArrayOfStrings(e)) {\r\n        this.errors = e;\r\n      } else {\r\n        throw e;\r\n      }\r\n    } finally {\r\n      this.isLoading = false;\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}